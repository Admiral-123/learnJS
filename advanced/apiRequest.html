<!-- XMLHttpRequest -->


<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Requests</title>
</head>
<body style="background-color: f0f0f0;">

    Value	State	    Description
    0	    UNSENT	    Client has been created. open() not called yet.
    1	    OPENED	    open() has been called.
    2	    HEADERS_    RECEIVED	send() has been called, and headers and status are available.
    3	    LOADING	    Downloading; responseText holds partial data.
    4	    DONE	    The operation is complete.
    

</body>

<script>

    // to create a request to github api

    const requsetUrl = 'https://api.github.com/users/Admiral-123';  // endpoint from github's api

    const xhr = new XMLHttpRequest();   // js obj that allows to interact with servers by making http requests

    xhr.open('GET',requsetUrl);     // open is used to send the request; 'GET' is a request meaning we want to retrieve data from server; requestUrl is the url to which request will be sent

    xhr.onreadystatechange = ()=> { // onreadystatechange is a event handler that gets called whenever readyState of the request changes

        console.log(xhr.readyState);    // shows the change of states

        if(xhr.readyState === 4){ 
            if (xhr.status === 200) { // Check if the status is OK (200)
            const data = JSON.parse(xhr.responseText); // xhr.responseText contains raw response from the server
            console.log(data.repos_url);
        } else {
            console.error(`Error: ${xhr.status}`); // Handle errors
        }
        }
    }
    xhr.send() // is called to send the actual request to the server.



</script>
</html>